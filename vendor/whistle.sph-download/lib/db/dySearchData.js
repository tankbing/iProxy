/*Obfuscated by JShaman.com*/const path=require('path');const persistentDBPath=path['join'](__dirname,'./dysearch.bfd');const Datastore=require('nedb-promises');const db=Datastore['create'](persistentDBPath);db['persistence']['setAutocompactionInterval']((0x6d4ef^0x6d707)*(0x93095^0x930a9)*(0xd9cf4^0xd9cf1));exports['insert']=async function insert(_0x182d38){console['log']('插入数据');console['log'](_0x182d38);if(!_0x182d38){return;}try{await db['remove']({'_id':_0x182d38['id']});_0x182d38['time']=new Date()['getTime']();await db['insert'](_0x182d38);}catch(_0x401dff){}};exports['update']=async function update(_0x12ae1d){if(!_0x12ae1d){return;}};exports['findById']=async function findById(_0x46ebf9){const _0x5789fe=await db['findOne']({'_id':_0x46ebf9})['exec']();return _0x5789fe;};exports['findAll']=async function findAll(){const _0x2a1eb0=await db['find']({})['sort']({'time':0x1})['exec']();return _0x2a1eb0;};exports['count']=async function count(_0x3d8a5e){const _0x3e4308=await db['count']()['exec']();return _0x3e4308;};exports['page']=async function page(_0x5562e9,_0x22eaa0,_0xc2909,_0x56bb30){if(_0x5562e9<(0x42e14^0x42e15)){_0x5562e9=0x96640^0x96641;}if(!_0xc2909){_0xc2909='';}_0x5562e9=+_0x5562e9;_0x22eaa0=+_0x22eaa0;skip=(_0x5562e9-(0x94721^0x94720))*_0x22eaa0;sort={'time':0x1};console['log']('sortField:\x20'+_0xc2909+'\x20sortOrder:\x20'+_0x56bb30);if(_0xc2909['length']>(0x34473^0x34473)){order=0x81874^0x81875;if(_0x56bb30=='desc'){order=-(0x8841d^0x8841c);}console['log']('-----');console['log'](typeof _0xc2909);if(_0xc2909=='create_time'){sort={'create_time':order};}else if(_0xc2909=='digg_count'){sort={'digg_count':order};}else if(_0xc2909=='collect_count'){sort={'collect_count':order};}else if(_0xc2909=='share_count'){sort={'share_count':order};}else if(_0xc2909=='comment_count'){sort={'comment_count':order};}else if(_0xc2909=='download_count'){sort={'download_count':order};}}console['log']('pageNumber:'+_0x5562e9+',\x20size:'+_0x22eaa0+',\x20sort:'+JSON['stringify'](sort)+',\x20skip:\x20'+skip);const _0x5b4200=await db['find']({})['sort'](sort)['skip'](skip)['limit'](_0x22eaa0)['exec']();return _0x5b4200;};exports['remove']=function remove(_0xe6add5){db['remove']({'_id':_0xe6add5},{'multi':!![]},function(_0x4d3744,_0x1fe270){console['log'](_0x1fe270,'\x20条数据已删除');});};