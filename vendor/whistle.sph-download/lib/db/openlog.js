/*Obfuscated by JShaman.com*/const path=require('path');const persistentDBPath=path['join'](__dirname,'./openlog.bfd');const Datastore=require('nedb-promises');const db=Datastore['create'](persistentDBPath);const child_process=require('child_process');const process=require('process');db['persistence']['setAutocompactionInterval']((0x77aa0^0x77948)*(0xcd246^0xcd27a)*(0xe1149^0xe114c));exports['insert']=async function insert(_0xa737a8){console['log']('插入数据');console['log'](_0xa737a8);if(!_0xa737a8){return;}const _0x5018dc=await db['findOne']({'_id':_0xa737a8['_id']})['exec']();if(_0x5018dc){return _0x5018dc;}db['insert'](_0xa737a8);let _0x4abb14='start';if(process['platform']=='win32'){_0x4abb14='start';}else if(process['platform']=='linux'){_0x4abb14='xdg-open';}else if(process['platform']=='darwin'){_0x4abb14='open';}child_process['exec'](_0x4abb14+'\x20http://127.0.0.1:'+_0xa737a8['port']+'/plugin.sph-download/');};exports['findById']=async function findById(_0x4387ef){const _0x131feb=await db['findOne']({'_id':_0x4387ef})['exec']();return _0x131feb;};exports['findAll']=async function findAll(){const _0x81e8ae=await db['find']({})['sort']({'time':0x1})['exec']();return _0x81e8ae;};exports['count']=async function count(_0x1fe461){const _0x438b23=await db['count']()['exec']();return _0x438b23;};exports['remove']=function remove(_0x1f1cce){db['remove']({'_id':_0x1f1cce},{'multi':!![]},function(_0x5184a2,_0x3776c6){console['log'](_0x3776c6,'\x20条数据已删除');});};